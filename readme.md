# Тестовое задание для стажера на позицию «Go-разработчик»

## Задание
Необходимо разработать приложение EWallet реализующее систему обработки транзакций платёжной системы. Приложение должно быть реализовано в виде HTTP сервера, реализующее REST API. Сервер должен иметь три метода:  

<strong>Send</strong>, имеющий эндпоинт `POST /api/send`, который отправляет средства с одного из кошельков на указанный кошелек. Метод принимает в теле запроса JSON-объект, содержащий следующие поля:
 - from - адрес кошелька, откуда нужно отправить деньги. Например: e240d825d255af751f5f55af8d9671beabdf2236c0a3b4e2639b3e182d994c88
 - to - адрес кошелька, куда нужно отправить деньги.
 - amount - сумма перевода. Например: 3.50.

Если средств на кошельке недостаточно, то необходимо возвращать читаемую ошибку. 

<strong>GetLast</strong>, имеющий эндпоинт `GET /api/transactions?count=N`, возвращающий информацию о N последних по времени переводах средств. Метод принимает в query-параметрах число возвращаемых JSON-объектов в массиве.

<strong>GetBalance</strong>, имеющий эндпоинт `GET /api/wallet/{address}/balance`, возвращающий информацию о балансе кошелька в JSON-объекте. Адрес кошелька указывается в пути запроса.

При первом запуске сервера должны создаваться 10 кошельков с случайными адресами и 100.0 у.е. на счету. 

---

<br>

### Используемые технологии:   
- golang
- postgres
- docker / docker-compose

### Библиотеки:
 - github.com/gorilla/mux - Настройка роутера
 - github.com/lib/pq - Драйвер для postgres
 - github.com/joho/godotenv - Загрузка переменных окружения из файла .env
 - github.com/google/uuid - Генерация UUID

<br>

Перед запуском приложения нужно переименовать файл example.env в .env и заполнить пустые места
```
DB_HOST=db
DB_NAME=ewallet

DB_PORT=5432
DB_HOST_PORT=

DB_USER=
DB_PASSWORD=

DB_SSLMODE=disable

APP_PORT=
```

<br>

Приложение запуститься после <strong>ВТОРОГО</strong> раза, так как при первом запуске postgres не успевает создать базу данных и из-за чего ломаются миграции и запуск бэкенда  
Нужно будет выполнить команду дважды
```
docker-compose -f docker-compose.yml up
```